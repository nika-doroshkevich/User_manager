<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.w3.org/1999/xhtml">
<head>
  <meta charset="UTF-8">
  <title>Users</title>

  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.1/css/bootstrap.min.css" integrity="sha384-WskhaSGFgHYWDcbwN70/dfYBj47jz9qbsMId/iRN3ewGhXQFZCSftd1LZCfmhktB" crossorigin="anonymous">
</head>
<body>

<!--Scripts-->
<script src="https://code.jquery.com/jquery-3.5.0.js"></script>
<script>
  $(document).ready(function () {
    $("#selectAll").change(function () {
      $("input:checkbox").prop('checked', $(this).prop("checked"));
    });
  });
</script>


<div class="container">
  <form name="logoutForm" th:action="@{/logout}" method="post">
    <input type="submit" class="btn btn-secondary" value="Sign Out"/>
  </form>

  <p class="font-weight-bold"><label>User: <span th:text="${#authentication.name}"></span></label></p>

      <h2 class="text-center">Users</h2>

      <form method="post" th:action="@{/user/edit}" th:object="${editUsersDto}">

        <nav class="navbar navbar-expand-lg bg-light">
          <div class="collapse navbar-collapse" id="navbarSupportedContent">

            <button type="submit" class="btn btn-primary" name="action" value="block">Block</button>
            <button type="submit" class="btn btn-primary" name="action" value="unblock">Unblock</button>
            <button type="submit" class="btn btn-primary" name="action" value="delete">Delete</button>

          </div>
        </nav>

        <table class="table">
          <thead>
          <tr>
            <th scope="col"><input id="selectAll" type="checkbox"/></th>
            <th scope="col">Id</th>
            <th scope="col">Username</th>
            <th scope="col">Email</th>
            <th scope="col">Registration date</th>
            <th scope="col">Last login date</th>
            <th scope="col">Status</th>
          </tr>
          </thead>
          <tbody>
          <tr th:each="user: ${users}">
            <td>
              <input type="checkbox" name="userIdCheckbox" th:field="*{userIds}" th:value="${user.id}"/>
            </td>
            <td th:text="${user.id}"></td>
            <td th:text="${user.username}"></td>
            <td th:text="${user.email}"></td>
            <td th:text="${user.registrationDate}"></td>
            <td th:text="${user.lastLoginDate}"></td>
            <td th:text="${user.status}">
          </tr>
          </tbody>
        </table>

      </form>

</div>

<!-- Optional JavaScript -->
<!-- jQuery first, then Popper.js, then Bootstrap JS -->
<script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49" crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.1/js/bootstrap.min.js" integrity="sha384-smHYKdLADwkXOn1EmN1qk/HfnUcbVRZyYmZ4qpPea6sjB/pTJ0euyQp0Mk8ck+5T" crossorigin="anonymous"></script>

</body>
</html>